{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nexport const fetchMovies = createAsyncThunk('fetch-movies', async _ref => {\n  let {\n    apiUrl,\n    isScrolling\n  } = _ref;\n  const response = await fetch(apiUrl);\n  const data = await response.json();\n  return {\n    data,\n    isScrolling\n  };\n});\nconst moviesSlice = createSlice({\n  name: 'movies',\n  initialState: {\n    movies: [],\n    fetchStatus: '',\n    loading: false,\n    pageNumber: 1\n  },\n  reducers: {\n    incrementPageNumber: state => {\n      state.pageNumber += 1;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchMovies.fulfilled, (state, action) => {\n      state.movies = action.payload.isScrolling ? [...state.movies, ...action.payload.data.results] : action.payload.data.results;\n      state.fetchStatus = 'success';\n      state.loading = false;\n    }).addCase(fetchMovies.pending, state => {\n      state.loading = true;\n      state.fetchStatus = 'loading';\n    }).addCase(fetchMovies.rejected, state => {\n      state.loading = false;\n      state.fetchStatus = 'error';\n    });\n  }\n});\nexport default moviesSlice;","map":{"version":3,"names":["createAsyncThunk","createSlice","fetchMovies","apiUrl","isScrolling","response","fetch","data","json","moviesSlice","name","initialState","movies","fetchStatus","loading","pageNumber","reducers","incrementPageNumber","state","extraReducers","builder","addCase","fulfilled","action","payload","results","pending","rejected"],"sources":["/Users/deemck/Documents/leovegas/leovegas-coding-assignment/src/data/moviesSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\nexport const fetchMovies = createAsyncThunk('fetch-movies', async ({apiUrl, isScrolling}) => {\n    const response = await fetch(apiUrl)\n    const data = await response.json()\n    return { data, isScrolling }\n})\n\nconst moviesSlice = createSlice({\n    name: 'movies',\n    initialState: { \n        movies: [],\n        fetchStatus: '',\n        loading: false,\n        pageNumber: 1\n    },\n    reducers: {\n        incrementPageNumber: (state) => {\n            state.pageNumber += 1\n        }\n    },\n    extraReducers: (builder) => {\n        builder.addCase(fetchMovies.fulfilled, (state, action) => {\n            state.movies = action.payload.isScrolling ? [...state.movies, ...action.payload.data.results] : action.payload.data.results\n            state.fetchStatus = 'success'\n            state.loading = false\n        }).addCase(fetchMovies.pending, (state) => {\n            state.loading = true\n            state.fetchStatus = 'loading'\n        }).addCase(fetchMovies.rejected, (state) => {\n            state.loading = false\n            state.fetchStatus = 'error'\n        })\n    }\n})\n\nexport default moviesSlice\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAEhE,OAAO,MAAMC,WAAW,GAAGF,gBAAgB,CAAC,cAAc,EAAE,cAAiC;EAAA,IAA1B;IAACG,MAAM;IAAEC;EAAW,CAAC;EACpF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACH,MAAM,CAAC;EACpC,MAAMI,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;EAClC,OAAO;IAAED,IAAI;IAAEH;EAAY,CAAC;AAChC,CAAC,CAAC;AAEF,MAAMK,WAAW,GAAGR,WAAW,CAAC;EAC5BS,IAAI,EAAE,QAAQ;EACdC,YAAY,EAAE;IACVC,MAAM,EAAE,EAAE;IACVC,WAAW,EAAE,EAAE;IACfC,OAAO,EAAE,KAAK;IACdC,UAAU,EAAE;EAChB,CAAC;EACDC,QAAQ,EAAE;IACNC,mBAAmB,EAAGC,KAAK,IAAK;MAC5BA,KAAK,CAACH,UAAU,IAAI,CAAC;IACzB;EACJ,CAAC;EACDI,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CAACC,OAAO,CAACnB,WAAW,CAACoB,SAAS,EAAE,CAACJ,KAAK,EAAEK,MAAM,KAAK;MACtDL,KAAK,CAACN,MAAM,GAAGW,MAAM,CAACC,OAAO,CAACpB,WAAW,GAAG,CAAC,GAAGc,KAAK,CAACN,MAAM,EAAE,GAAGW,MAAM,CAACC,OAAO,CAACjB,IAAI,CAACkB,OAAO,CAAC,GAAGF,MAAM,CAACC,OAAO,CAACjB,IAAI,CAACkB,OAAO;MAC3HP,KAAK,CAACL,WAAW,GAAG,SAAS;MAC7BK,KAAK,CAACJ,OAAO,GAAG,KAAK;IACzB,CAAC,CAAC,CAACO,OAAO,CAACnB,WAAW,CAACwB,OAAO,EAAGR,KAAK,IAAK;MACvCA,KAAK,CAACJ,OAAO,GAAG,IAAI;MACpBI,KAAK,CAACL,WAAW,GAAG,SAAS;IACjC,CAAC,CAAC,CAACQ,OAAO,CAACnB,WAAW,CAACyB,QAAQ,EAAGT,KAAK,IAAK;MACxCA,KAAK,CAACJ,OAAO,GAAG,KAAK;MACrBI,KAAK,CAACL,WAAW,GAAG,OAAO;IAC/B,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEF,eAAeJ,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}